<div class="container">
    <h1 class="display-4 my-3">
        Reporte de sueldos netos por área
    </h1>
    <form [formGroup]="formulario">
        <div class="form-group">
            <div class="row">
                <div class="col-sm-3">
                    <label for="selectMes" class="form-label">Mes</label>
                    <select id="selectMes" class="form-select" formControlName="mes"
                        [class.is-invalid]="controlMes.touched && controlMes.hasError('required')">
                        <option value=1>Enero</option>
                        <option value=2>Febrero</option>
                        <option value=3>Marzo</option>
                        <option value=4>Abril</option>
                        <option value=5>Mayo</option>
                        <option value=6>Junio</option>
                        <option value=7>Julio</option>
                        <option value=8>Agosto</option>
                        <option value=9>Septiembre</option>
                        <option value=10>Octubre</option>
                        <option value=11>Noviembre</option>
                        <option value=12>Diciembre</option>
                    </select>
                    <span class="invalid-feedback">
                        Elija un mes.
                    </span>
                </div>
                <div class="col-sm-3">
                    <label class="form-label" for='anio'>Año:</label>
                    <input type='number' id='anio' class='form-control' formControlName="anio"
                        [class.is-invalid]="controlAnio.touched && controlAnio.hasError('required')">
                    <div *ngIf="controlAnio.touched && controlAnio.hasError('required')" class="invalid-feedback">
                        Ingrese un año.
                    </div>
                </div>
                <div class="col-sm-3">
                    <br>
                    <button class="btn btn-primary p-2 bd-highlight align-self-center" (click)="generar()">Generar reporte</button>
                </div>
            </div>
        </div>
    </form>
    <table class="table">
        <thead>
            <tr class="">
                <th scope="col">Area</th>
                <th scope="col">Total</th>
                <th scope="col">Cantidad de recibos</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let r of $reporte | async">
                <th scope="row">{{r.area }}</th>
                <td>{{r.total | currency : 'USD'}}</td>
                <td>{{r.cantidadRecibos}}</td>
            </tr>
        </tbody>
    </table>
</div>